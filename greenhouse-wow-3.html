<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Greenhouse Variations - Part 3</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; background: #1a1a2e; color: #e8e8e8; padding: 20px; }
        h1 { text-align: center; margin-bottom: 10px; color: #c4a574; }
        .subtitle { text-align: center; color: #888; margin-bottom: 30px; }
        .variation-section { margin-bottom: 50px; background: #252540; border-radius: 16px; padding: 20px; }
        .variation-header { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; }
        .variation-letter { background: #c4a574; color: #1a1a2e; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 20px; }
        .variation-title { font-size: 24px; color: #fff; }
        .variation-desc { color: #aaa; margin-bottom: 20px; padding-left: 55px; }
        .stages-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; }
        .stage-card { background: #1a1a2e; border-radius: 12px; overflow: hidden; }
        .stage-label { background: #333355; padding: 8px 12px; font-size: 12px; text-align: center; }
        .stage-name { font-weight: bold; color: #c4a574; }
        .stage-trigger { color: #888; font-size: 10px; margin-top: 4px; }
        canvas { display: block; width: 100%; height: auto; }
        @media (max-width: 900px) { .stages-row { grid-template-columns: repeat(2, 1fr); } }
    </style>
</head>
<body>
    <h1>Greenhouse Wow Factor - Part 3</h1>
    <p class="subtitle">Variation 5 â€¢ Painterly Impressionist</p>

    <div class="variation-section">
        <div class="variation-header">
            <div class="variation-letter">5</div>
            <div class="variation-title">Painterly Impressionist</div>
        </div>
        <p class="variation-desc">Soft layered forms, atmospheric depth, dreamy color washes. Monet's garden meets ukiyo-e structure.</p>
        <div class="stages-row">
            <div class="stage-card"><canvas id="V5S1" width="300" height="400"></canvas><div class="stage-label"><div class="stage-name">Sunny Sill (10%)</div><div class="stage-trigger">Account created</div></div></div>
            <div class="stage-card"><canvas id="V5S2" width="300" height="400"></canvas><div class="stage-label"><div class="stage-name">Garden Corner (40%)</div><div class="stage-trigger">First week</div></div></div>
            <div class="stage-card"><canvas id="V5S3" width="300" height="400"></canvas><div class="stage-label"><div class="stage-name">Flower Garden (70%)</div><div class="stage-trigger">Ketones added</div></div></div>
            <div class="stage-card"><canvas id="V5S4" width="300" height="400"></canvas><div class="stage-label"><div class="stage-name">Paradise Garden (100%)</div><div class="stage-trigger">Mastery</div></div></div>
        </div>
    </div>

    <script>
        const C = {
            sky1: '#c8dce8', sky2: '#e0ecf4', water1: '#6898b8', water2: '#88b8d0',
            grass1: '#78a860', grass2: '#98c080', grass3: '#b8d8a0',
            earth: '#a89878', wood: '#685848', stone: '#989088',
            glass: '#d0e4f0', white: '#f8f8f4', cream: '#f4ece0',
            flower1: '#e07080', flower1b: '#f0a0a8', flower2: '#f0a850', flower2b: '#f8c880',
            flower3: '#8878b0', flower3b: '#a898c8', flower4: '#f0d060', flower4b: '#f8e898',
            leaf1: '#588040', leaf2: '#78a060', leaf3: '#98b880',
            skin: '#f0dcc8', clothing: '#5878a0', clothingLight: '#7898b8',
            hat: '#d8b878', outline: '#384048'
        };

        function setup(id) {
            const canvas = document.getElementById(id);
            const ctx = canvas.getContext('2d');
            const dpr = window.devicePixelRatio || 1;
            canvas.width = 300 * dpr;
            canvas.height = 400 * dpr;
            ctx.scale(dpr, dpr);
            return { ctx, w: 300, h: 400 };
        }

        // ===== VARIATION 5: PAINTERLY IMPRESSIONIST =====
        function paint_sky(ctx, w, h) {
            // Layered sky washes
            const grad = ctx.createLinearGradient(0, 0, 0, h * 0.45);
            grad.addColorStop(0, C.sky1);
            grad.addColorStop(0.5, C.sky2);
            grad.addColorStop(1, '#e8f0f8');
            ctx.fillStyle = grad;
            ctx.fillRect(0, 0, w, h * 0.45);
            // Soft atmospheric clouds
            ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
            [[w * 0.2, h * 0.1, 35], [w * 0.7, h * 0.14, 40], [w * 0.45, h * 0.08, 28]].forEach(([cx, cy, r]) => {
                ctx.beginPath();
                ctx.arc(cx - r * 0.4, cy, r * 0.6, 0, Math.PI * 2);
                ctx.arc(cx, cy - r * 0.2, r * 0.7, 0, Math.PI * 2);
                ctx.arc(cx + r * 0.4, cy, r * 0.55, 0, Math.PI * 2);
                ctx.fill();
            });
            // Outline at horizon
            ctx.strokeStyle = C.outline;
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, h * 0.44);
            ctx.lineTo(w, h * 0.44);
            ctx.stroke();
        }

        function paint_ground(ctx, w, h) {
            // Layered grass with depth
            ctx.fillStyle = C.grass1;
            ctx.fillRect(0, h * 0.44, w, h * 0.56);
            // Mid grass layer
            ctx.fillStyle = C.grass2;
            ctx.beginPath();
            ctx.moveTo(0, h * 0.65);
            ctx.quadraticCurveTo(w * 0.3, h * 0.62, w * 0.5, h * 0.66);
            ctx.quadraticCurveTo(w * 0.7, h * 0.7, w, h * 0.64);
            ctx.lineTo(w, h);
            ctx.lineTo(0, h);
            ctx.closePath();
            ctx.fill();
            // Near grass
            ctx.fillStyle = C.grass3;
            ctx.beginPath();
            ctx.moveTo(0, h * 0.82);
            ctx.quadraticCurveTo(w * 0.25, h * 0.78, w * 0.5, h * 0.83);
            ctx.quadraticCurveTo(w * 0.75, h * 0.88, w, h * 0.8);
            ctx.lineTo(w, h);
            ctx.lineTo(0, h);
            ctx.closePath();
            ctx.fill();
        }

        function paint_flower(ctx, x, y, s, c1, c2) {
            ctx.strokeStyle = C.outline;
            // Loose stem
            ctx.lineWidth = 2;
            ctx.fillStyle = C.leaf1;
            ctx.beginPath();
            ctx.moveTo(x - 2, y + s);
            ctx.quadraticCurveTo(x - 4, y + s * 0.6, x - 1, y + s * 0.25);
            ctx.quadraticCurveTo(x + 4, y + s * 0.6, x + 2, y + s);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            // Impressionist leaves
            ctx.fillStyle = C.leaf2;
            ctx.beginPath();
            ctx.ellipse(x - s * 0.22, y + s * 0.55, s * 0.15, s * 0.08, -0.6, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();
            ctx.fillStyle = C.leaf3;
            ctx.beginPath();
            ctx.ellipse(x + s * 0.18, y + s * 0.65, s * 0.12, s * 0.06, 0.5, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();
            // Layered soft petals - back layer
            ctx.fillStyle = c1;
            ctx.lineWidth = 1.5;
            for (let i = 0; i < 5; i++) {
                const a = (i / 5) * Math.PI * 2 - Math.PI / 2 + 0.15;
                const px = x + Math.cos(a) * s * 0.22;
                const py = y + Math.sin(a) * s * 0.22;
                ctx.beginPath();
                ctx.ellipse(px, py, s * 0.2, s * 0.12, a, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
            }
            // Front highlight layer
            ctx.fillStyle = c2;
            for (let i = 0; i < 4; i++) {
                const a = (i / 4) * Math.PI * 2 - Math.PI / 2;
                const px = x + Math.cos(a) * s * 0.15;
                const py = y + Math.sin(a) * s * 0.15;
                ctx.beginPath();
                ctx.ellipse(px, py, s * 0.14, s * 0.08, a, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
            }
            // Soft center
            ctx.fillStyle = C.flower4;
            ctx.beginPath();
            ctx.arc(x, y, s * 0.1, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();
            ctx.fillStyle = C.flower4b;
            ctx.beginPath();
            ctx.arc(x - s * 0.02, y - s * 0.02, s * 0.05, 0, Math.PI * 2);
            ctx.fill();
        }

        function paint_tree(ctx, x, y, s) {
            ctx.strokeStyle = C.outline;
            ctx.lineWidth = 2;
            // Organic trunk
            ctx.fillStyle = C.wood;
            ctx.beginPath();
            ctx.moveTo(x - s * 0.07, y);
            ctx.quadraticCurveTo(x - s * 0.1, y - s * 0.15, x - s * 0.06, y - s * 0.35);
            ctx.quadraticCurveTo(x - s * 0.04, y - s * 0.4, x, y - s * 0.42);
            ctx.quadraticCurveTo(x + s * 0.04, y - s * 0.4, x + s * 0.06, y - s * 0.35);
            ctx.quadraticCurveTo(x + s * 0.1, y - s * 0.15, x + s * 0.07, y);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            // Layered impressionist foliage - back
            ctx.fillStyle = C.leaf1;
            const backPuffs = [[-0.15, -0.52], [0.15, -0.5], [0, -0.62], [-0.1, -0.58], [0.1, -0.6]];
            backPuffs.forEach(([ox, oy]) => {
                ctx.beginPath();
                ctx.arc(x + ox * s, y + oy * s, s * 0.12, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
            });
            // Mid layer
            ctx.fillStyle = C.leaf2;
            const midPuffs = [[-0.08, -0.55], [0.08, -0.54], [0, -0.65], [-0.12, -0.48], [0.12, -0.46]];
            midPuffs.forEach(([ox, oy]) => {
                ctx.beginPath();
                ctx.arc(x + ox * s, y + oy * s, s * 0.1, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
            });
            // Front highlights
            ctx.fillStyle = C.leaf3;
            const frontPuffs = [[0, -0.58], [-0.06, -0.52], [0.06, -0.5]];
            frontPuffs.forEach(([ox, oy]) => {
                ctx.beginPath();
                ctx.arc(x + ox * s, y + oy * s, s * 0.07, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
            });
        }

        function paint_gardener(ctx, x, y, s, pose) {
            ctx.strokeStyle = C.outline;
            ctx.lineWidth = 2;
            if (pose === 'standing') {
                // Soft layered body
                ctx.fillStyle = C.clothing;
                ctx.beginPath();
                ctx.ellipse(x, y - s * 0.34, s * 0.16, s * 0.24, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                ctx.fillStyle = C.clothingLight;
                ctx.beginPath();
                ctx.ellipse(x - s * 0.04, y - s * 0.38, s * 0.08, s * 0.12, -0.2, 0, Math.PI * 2);
                ctx.fill();
                // Soft head
                ctx.fillStyle = C.skin;
                ctx.beginPath();
                ctx.arc(x, y - s * 0.62, s * 0.11, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                // Layered hat
                ctx.fillStyle = C.hat;
                ctx.beginPath();
                ctx.ellipse(x, y - s * 0.7, s * 0.16, s * 0.05, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                ctx.beginPath();
                ctx.arc(x, y - s * 0.76, s * 0.09, Math.PI, 0);
                ctx.fill();
                ctx.stroke();
                // Soft legs
                ctx.fillStyle = C.clothing;
                ctx.beginPath();
                ctx.ellipse(x - s * 0.07, y - s * 0.08, s * 0.05, s * 0.1, 0.1, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                ctx.beginPath();
                ctx.ellipse(x + s * 0.07, y - s * 0.08, s * 0.05, s * 0.1, -0.1, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
            } else if (pose === 'kneeling') {
                ctx.fillStyle = C.clothing;
                ctx.beginPath();
                ctx.ellipse(x, y - s * 0.18, s * 0.2, s * 0.13, 0.2, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                ctx.fillStyle = C.clothingLight;
                ctx.beginPath();
                ctx.ellipse(x + s * 0.05, y - s * 0.22, s * 0.08, s * 0.06, 0.3, 0, Math.PI * 2);
                ctx.fill();
                ctx.fillStyle = C.skin;
                ctx.beginPath();
                ctx.arc(x + s * 0.16, y - s * 0.34, s * 0.09, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                ctx.fillStyle = C.hat;
                ctx.beginPath();
                ctx.ellipse(x + s * 0.16, y - s * 0.41, s * 0.12, s * 0.04, 0.2, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
            } else {
                ctx.fillStyle = C.clothing;
                ctx.beginPath();
                ctx.ellipse(x, y - s * 0.14, s * 0.18, s * 0.1, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                ctx.fillStyle = C.clothingLight;
                ctx.beginPath();
                ctx.ellipse(x - s * 0.05, y - s * 0.18, s * 0.07, s * 0.05, -0.2, 0, Math.PI * 2);
                ctx.fill();
                ctx.fillStyle = C.skin;
                ctx.beginPath();
                ctx.arc(x, y - s * 0.32, s * 0.09, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                ctx.fillStyle = C.hat;
                ctx.beginPath();
                ctx.ellipse(x, y - s * 0.39, s * 0.12, s * 0.04, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
            }
        }

        function paint_greenhouse(ctx, x, y, s, stage) {
            ctx.strokeStyle = C.outline;
            if (stage === 1) {
                // Sunny windowsill with plant
                ctx.lineWidth = 2;
                // Warm wood sill
                ctx.fillStyle = '#c0a080';
                ctx.beginPath();
                ctx.moveTo(x - s * 0.4, y);
                ctx.quadraticCurveTo(x, y + s * 0.05, x + s * 0.4, y);
                ctx.lineTo(x + s * 0.38, y - s * 0.08);
                ctx.lineTo(x - s * 0.38, y - s * 0.08);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                // Terracotta pot
                ctx.fillStyle = '#c87850';
                ctx.beginPath();
                ctx.moveTo(x - s * 0.12, y - s * 0.08);
                ctx.lineTo(x - s * 0.1, y - s * 0.28);
                ctx.quadraticCurveTo(x, y - s * 0.3, x + s * 0.1, y - s * 0.28);
                ctx.lineTo(x + s * 0.12, y - s * 0.08);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                // Pot rim
                ctx.fillStyle = '#d88860';
                ctx.beginPath();
                ctx.ellipse(x, y - s * 0.28, s * 0.12, s * 0.04, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                // Little plant
                ctx.fillStyle = C.leaf2;
                ctx.beginPath();
                ctx.ellipse(x - s * 0.08, y - s * 0.38, s * 0.08, s * 0.05, -0.4, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                ctx.fillStyle = C.leaf3;
                ctx.beginPath();
                ctx.ellipse(x + s * 0.06, y - s * 0.4, s * 0.07, s * 0.045, 0.3, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                ctx.fillStyle = C.leaf1;
                ctx.beginPath();
                ctx.ellipse(x, y - s * 0.45, s * 0.06, s * 0.04, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
            } else if (stage === 2) {
                // Small garden greenhouse
                ctx.lineWidth = 2;
                // Base
                ctx.fillStyle = '#a09080';
                ctx.fillRect(x - s * 0.35, y - s * 0.1, s * 0.7, s * 0.1);
                ctx.strokeRect(x - s * 0.35, y - s * 0.1, s * 0.7, s * 0.1);
                // Glass walls with soft reflections
                ctx.fillStyle = C.glass;
                ctx.fillRect(x - s * 0.32, y - s * 0.48, s * 0.64, s * 0.38);
                ctx.strokeRect(x - s * 0.32, y - s * 0.48, s * 0.64, s * 0.38);
                // Soft light reflection
                ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.fillRect(x - s * 0.3, y - s * 0.46, s * 0.2, s * 0.34);
                // Frame lines
                ctx.lineWidth = 1.5;
                ctx.beginPath();
                ctx.moveTo(x, y - s * 0.48);
                ctx.lineTo(x, y - s * 0.1);
                ctx.stroke();
                // Soft peaked roof
                ctx.lineWidth = 2;
                ctx.fillStyle = C.glass;
                ctx.beginPath();
                ctx.moveTo(x - s * 0.38, y - s * 0.48);
                ctx.quadraticCurveTo(x, y - s * 0.72, x + s * 0.38, y - s * 0.48);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                // Roof highlight
                ctx.fillStyle = 'rgba(255, 255, 255, 0.25)';
                ctx.beginPath();
                ctx.moveTo(x - s * 0.3, y - s * 0.5);
                ctx.quadraticCurveTo(x - s * 0.1, y - s * 0.65, x, y - s * 0.5);
                ctx.closePath();
                ctx.fill();
            } else if (stage === 3) {
                // Lovely flower garden greenhouse
                ctx.lineWidth = 2;
                // Warm stone base
                ctx.fillStyle = '#b8a898';
                ctx.fillRect(x - s * 0.42, y - s * 0.1, s * 0.84, s * 0.1);
                ctx.strokeRect(x - s * 0.42, y - s * 0.1, s * 0.84, s * 0.1);
                // Glass structure
                ctx.fillStyle = C.glass;
                ctx.fillRect(x - s * 0.38, y - s * 0.52, s * 0.76, s * 0.42);
                ctx.strokeRect(x - s * 0.38, y - s * 0.52, s * 0.76, s * 0.42);
                // Warm reflections
                ctx.fillStyle = 'rgba(255, 248, 230, 0.25)';
                ctx.fillRect(x - s * 0.35, y - s * 0.5, s * 0.25, s * 0.38);
                // Frame
                ctx.lineWidth = 1.5;
                ctx.beginPath();
                ctx.moveTo(x, y - s * 0.52);
                ctx.lineTo(x, y - s * 0.1);
                ctx.moveTo(x - s * 0.38, y - s * 0.31);
                ctx.lineTo(x + s * 0.38, y - s * 0.31);
                ctx.stroke();
                // Graceful domed roof
                ctx.lineWidth = 2;
                ctx.fillStyle = C.glass;
                ctx.beginPath();
                ctx.moveTo(x - s * 0.45, y - s * 0.52);
                ctx.quadraticCurveTo(x - s * 0.25, y - s * 0.85, x, y - s * 0.9);
                ctx.quadraticCurveTo(x + s * 0.25, y - s * 0.85, x + s * 0.45, y - s * 0.52);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                // Dome reflections
                ctx.fillStyle = 'rgba(255, 255, 255, 0.2)';
                ctx.beginPath();
                ctx.moveTo(x - s * 0.35, y - s * 0.55);
                ctx.quadraticCurveTo(x - s * 0.2, y - s * 0.78, x - s * 0.05, y - s * 0.82);
                ctx.quadraticCurveTo(x - s * 0.15, y - s * 0.7, x - s * 0.2, y - s * 0.55);
                ctx.closePath();
                ctx.fill();
                // Charming door
                ctx.fillStyle = '#d8c8b8';
                ctx.beginPath();
                ctx.moveTo(x - s * 0.1, y - s * 0.1);
                ctx.lineTo(x - s * 0.1, y - s * 0.38);
                ctx.arc(x, y - s * 0.38, s * 0.1, Math.PI, 0);
                ctx.lineTo(x + s * 0.1, y - s * 0.1);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
            } else {
                // Paradise garden conservatory
                ctx.lineWidth = 2;
                // Elegant base
                ctx.fillStyle = '#c8b8a8';
                ctx.fillRect(x - s * 0.52, y - s * 0.1, s * 1.04, s * 0.1);
                ctx.strokeRect(x - s * 0.52, y - s * 0.1, s * 1.04, s * 0.1);
                // Main glass walls
                ctx.fillStyle = C.glass;
                ctx.fillRect(x - s * 0.48, y - s * 0.48, s * 0.96, s * 0.38);
                ctx.strokeRect(x - s * 0.48, y - s * 0.48, s * 0.96, s * 0.38);
                // Warm afternoon light
                ctx.fillStyle = 'rgba(255, 245, 220, 0.3)';
                ctx.fillRect(x - s * 0.45, y - s * 0.46, s * 0.3, s * 0.34);
                // Frame grid
                ctx.lineWidth = 1.5;
                for (let i = -1; i <= 1; i++) {
                    ctx.beginPath();
                    ctx.moveTo(x + i * s * 0.24, y - s * 0.48);
                    ctx.lineTo(x + i * s * 0.24, y - s * 0.1);
                    ctx.stroke();
                }
                ctx.beginPath();
                ctx.moveTo(x - s * 0.48, y - s * 0.29);
                ctx.lineTo(x + s * 0.48, y - s * 0.29);
                ctx.stroke();
                // Grand flowing dome
                ctx.lineWidth = 2;
                ctx.fillStyle = C.glass;
                ctx.beginPath();
                ctx.moveTo(x - s * 0.55, y - s * 0.48);
                ctx.quadraticCurveTo(x - s * 0.35, y - s * 0.8, x - s * 0.15, y - s * 0.92);
                ctx.quadraticCurveTo(x, y - s * 0.98, x + s * 0.15, y - s * 0.92);
                ctx.quadraticCurveTo(x + s * 0.35, y - s * 0.8, x + s * 0.55, y - s * 0.48);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                // Beautiful light on dome
                ctx.fillStyle = 'rgba(255, 255, 255, 0.25)';
                ctx.beginPath();
                ctx.moveTo(x - s * 0.4, y - s * 0.52);
                ctx.quadraticCurveTo(x - s * 0.25, y - s * 0.75, x - s * 0.1, y - s * 0.88);
                ctx.quadraticCurveTo(x - s * 0.2, y - s * 0.7, x - s * 0.25, y - s * 0.52);
                ctx.closePath();
                ctx.fill();
                // Dome ribs
                ctx.lineWidth = 1.5;
                ctx.beginPath();
                ctx.moveTo(x, y - s * 0.48);
                ctx.quadraticCurveTo(x, y - s * 0.75, x, y - s * 0.95);
                ctx.moveTo(x - s * 0.25, y - s * 0.48);
                ctx.quadraticCurveTo(x - s * 0.18, y - s * 0.72, x - s * 0.08, y - s * 0.9);
                ctx.moveTo(x + s * 0.25, y - s * 0.48);
                ctx.quadraticCurveTo(x + s * 0.18, y - s * 0.72, x + s * 0.08, y - s * 0.9);
                ctx.stroke();
                // Welcoming door
                ctx.lineWidth = 2;
                ctx.fillStyle = '#e0d0c0';
                ctx.beginPath();
                ctx.moveTo(x - s * 0.12, y - s * 0.1);
                ctx.lineTo(x - s * 0.12, y - s * 0.4);
                ctx.arc(x, y - s * 0.4, s * 0.12, Math.PI, 0);
                ctx.lineTo(x + s * 0.12, y - s * 0.1);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
            }
        }

        function paint_pond(ctx, x, y, w, h) {
            // Soft water with reflections
            ctx.fillStyle = C.water1;
            ctx.strokeStyle = C.outline;
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.ellipse(x, y, w, h, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();
            // Light reflections
            ctx.fillStyle = C.water2;
            ctx.beginPath();
            ctx.ellipse(x - w * 0.2, y - h * 0.2, w * 0.4, h * 0.3, -0.2, 0, Math.PI * 2);
            ctx.fill();
            // Water lilies
            ctx.fillStyle = C.leaf2;
            ctx.beginPath();
            ctx.ellipse(x - w * 0.35, y, w * 0.2, h * 0.3, 0, 0.3, Math.PI * 1.8);
            ctx.fill();
            ctx.stroke();
            ctx.fillStyle = C.leaf3;
            ctx.beginPath();
            ctx.ellipse(x + w * 0.25, y + h * 0.15, w * 0.15, h * 0.25, 0.2, 0.2, Math.PI * 1.9);
            ctx.fill();
            ctx.stroke();
            // Lily flower
            ctx.fillStyle = '#f0e0e8';
            ctx.beginPath();
            ctx.ellipse(x - w * 0.35, y - h * 0.05, w * 0.12, h * 0.15, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();
        }

        function paint_koi(ctx, x, y, s, c1, c2) {
            ctx.strokeStyle = C.outline;
            ctx.lineWidth = 1.5;
            // Soft body
            ctx.fillStyle = c1;
            ctx.beginPath();
            ctx.ellipse(x, y, s * 0.42, s * 0.15, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();
            // Highlight
            ctx.fillStyle = c2;
            ctx.beginPath();
            ctx.ellipse(x + s * 0.1, y - s * 0.03, s * 0.2, s * 0.08, 0, 0, Math.PI * 2);
            ctx.fill();
            // Flowing tail
            ctx.fillStyle = c1;
            ctx.beginPath();
            ctx.moveTo(x - s * 0.35, y);
            ctx.quadraticCurveTo(x - s * 0.5, y - s * 0.1, x - s * 0.55, y - s * 0.18);
            ctx.quadraticCurveTo(x - s * 0.45, y, x - s * 0.55, y + s * 0.18);
            ctx.quadraticCurveTo(x - s * 0.5, y + s * 0.1, x - s * 0.35, y);
            ctx.fill();
            ctx.stroke();
        }

        function paint_path(ctx, w, h) {
            // Soft winding path
            ctx.fillStyle = C.earth;
            ctx.strokeStyle = C.outline;
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(w * 0.32, h);
            ctx.quadraticCurveTo(w * 0.35, h * 0.8, w * 0.4, h * 0.65);
            ctx.quadraticCurveTo(w * 0.48, h * 0.58, w * 0.52, h * 0.58);
            ctx.quadraticCurveTo(w * 0.65, h * 0.62, w * 0.68, h);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            // Soft highlight
            ctx.fillStyle = 'rgba(255, 250, 240, 0.2)';
            ctx.beginPath();
            ctx.moveTo(w * 0.38, h);
            ctx.quadraticCurveTo(w * 0.42, h * 0.82, w * 0.45, h * 0.68);
            ctx.lineTo(w * 0.48, h * 0.68);
            ctx.quadraticCurveTo(w * 0.5, h * 0.82, w * 0.52, h);
            ctx.closePath();
            ctx.fill();
        }

        // V5 Renders
        function renderV5S1() {
            const { ctx, w, h } = setup('V5S1');
            // Warm interior
            ctx.fillStyle = '#f8f0e8';
            ctx.fillRect(0, 0, w, h);
            // Soft sunny window
            ctx.strokeStyle = C.outline;
            ctx.lineWidth = 2;
            ctx.fillStyle = '#8a7868';
            ctx.beginPath();
            ctx.moveTo(20, h * 0.62);
            ctx.lineTo(20, 30);
            ctx.quadraticCurveTo(w/2, 15, w - 20, 30);
            ctx.lineTo(w - 20, h * 0.62);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            // Sunny view
            const skyGrad = ctx.createLinearGradient(0, 30, 0, h * 0.45);
            skyGrad.addColorStop(0, '#d8e8f8');
            skyGrad.addColorStop(1, '#f0f4f8');
            ctx.fillStyle = skyGrad;
            ctx.beginPath();
            ctx.moveTo(35, h * 0.5);
            ctx.lineTo(35, 45);
            ctx.quadraticCurveTo(w/2, 30, w - 35, 45);
            ctx.lineTo(w - 35, h * 0.5);
            ctx.closePath();
            ctx.fill();
            // Warm sunshine
            ctx.fillStyle = 'rgba(255, 248, 220, 0.5)';
            ctx.beginPath();
            ctx.arc(w * 0.7, h * 0.15, 40, 0, Math.PI * 2);
            ctx.fill();
            // Soft cloud
            ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
            ctx.beginPath();
            ctx.arc(w * 0.35, h * 0.2, 18, 0, Math.PI * 2);
            ctx.arc(w * 0.42, h * 0.17, 22, 0, Math.PI * 2);
            ctx.arc(w * 0.5, h * 0.2, 16, 0, Math.PI * 2);
            ctx.fill();
            // Warm windowsill
            ctx.fillStyle = '#c8b098';
            ctx.beginPath();
            ctx.ellipse(w/2, h * 0.56, w * 0.4, h * 0.04, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();
            paint_greenhouse(ctx, w * 0.5, h * 0.56, 70, 1);
            // Soft hands
            ctx.fillStyle = C.skin;
            ctx.beginPath();
            ctx.ellipse(w * 0.32, h * 0.74, 14, 18, -0.25, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();
            ctx.beginPath();
            ctx.ellipse(w * 0.68, h * 0.74, 14, 18, 0.25, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();
        }

        function renderV5S2() {
            const { ctx, w, h } = setup('V5S2');
            paint_sky(ctx, w, h);
            paint_ground(ctx, w, h);
            paint_greenhouse(ctx, w * 0.5, h * 0.58, 80, 2);
            paint_flower(ctx, w * 0.14, h * 0.58, 15, C.flower1, C.flower1b);
            paint_flower(ctx, w * 0.86, h * 0.62, 13, C.flower3, C.flower3b);
            paint_gardener(ctx, w * 0.32, h * 0.9, 52, 'kneeling');
        }

        function renderV5S3() {
            const { ctx, w, h } = setup('V5S3');
            paint_sky(ctx, w, h);
            paint_ground(ctx, w, h);
            paint_path(ctx, w, h);
            paint_greenhouse(ctx, w * 0.5, h * 0.54, 88, 3);
            paint_tree(ctx, w * 0.88, h * 0.52, 62);
            const fc = [[C.flower1, C.flower1b], [C.flower2, C.flower2b], [C.flower3, C.flower3b], [C.flower4, C.flower4b]];
            for (let i = 0; i < 5; i++) {
                const [c1, c2] = fc[i % 4];
                paint_flower(ctx, w * 0.08 + i * w * 0.1, h * 0.6, 12, c1, c2);
            }
            paint_pond(ctx, w * 0.2, h * 0.78, 30, 15);
            paint_gardener(ctx, w * 0.5, h * 0.86, 50, 'standing');
        }

        function renderV5S4() {
            const { ctx, w, h } = setup('V5S4');
            paint_sky(ctx, w, h);
            // Soft distant hills
            ctx.fillStyle = '#b0c0d0';
            ctx.strokeStyle = C.outline;
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, h * 0.44);
            ctx.quadraticCurveTo(w * 0.15, h * 0.34, w * 0.3, h * 0.38);
            ctx.quadraticCurveTo(w * 0.5, h * 0.28, w * 0.7, h * 0.34);
            ctx.quadraticCurveTo(w * 0.85, h * 0.28, w, h * 0.36);
            ctx.lineTo(w, h * 0.44);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            // Highlight on hills
            ctx.fillStyle = 'rgba(255, 255, 255, 0.15)';
            ctx.beginPath();
            ctx.moveTo(w * 0.4, h * 0.44);
            ctx.quadraticCurveTo(w * 0.55, h * 0.3, w * 0.7, h * 0.36);
            ctx.lineTo(w * 0.7, h * 0.44);
            ctx.closePath();
            ctx.fill();
            paint_ground(ctx, w, h);
            paint_path(ctx, w, h);
            paint_greenhouse(ctx, w * 0.5, h * 0.52, 95, 4);
            paint_tree(ctx, w * 0.08, h * 0.54, 55);
            paint_tree(ctx, w * 0.92, h * 0.5, 62);
            const fc = [[C.flower1, C.flower1b], [C.flower2, C.flower2b], [C.flower3, C.flower3b], [C.flower4, C.flower4b]];
            for (let i = 0; i < 6; i++) {
                const [c1, c2] = fc[i % 4];
                paint_flower(ctx, w * 0.05 + (i % 3) * w * 0.08, h * 0.58 + Math.floor(i / 3) * 16, 11, c1, c2);
            }
            paint_pond(ctx, w * 0.78, h * 0.76, 32, 16);
            paint_koi(ctx, w * 0.76, h * 0.75, 13, '#e87060', '#f0a090');
            paint_koi(ctx, w * 0.82, h * 0.78, 11, '#f8f0e8', '#ffffff');
            paint_gardener(ctx, w * 0.5, h * 0.9, 50, 'sitting');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderV5S1(); renderV5S2(); renderV5S3(); renderV5S4();
        });
    </script>
</body>
</html>
